<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <title>å°å£è¢‹ XiaoPocket - Demo V2</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <style>
    * {
      box-sizing: border-box;
      -webkit-tap-highlight-color: transparent;
    }
    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "Segoe UI", "Microsoft JhengHei", sans-serif;
      background: #f3f4f6;
      color: #111827;
      font-size: 16px;
    }
    img {
      max-width: 100%;
      display: block;
    }
    button {
      font-family: inherit;
    }

    .app-shell {
      max-width: 480px;
      margin: 0 auto;
      min-height: 100vh;
      background: #ffffff;
      display: flex;
      flex-direction: column;
      border-left: 1px solid #e5e7eb;
      border-right: 1px solid #e5e7eb;
    }

    .top-bar {
      position: sticky;
      top: 0;
      z-index: 20;
      height: 52px;
      padding: 0 16px;
      background: #ffffff;
      border-bottom: 1px solid #e5e7eb;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    .top-title {
      font-weight: 700;
      font-size: 18px;
      letter-spacing: 2px;
    }
    .top-sub {
      font-size: 11px;
      color: #9ca3af;
    }
    .top-right {
      font-size: 13px;
      color: #6b7280;
    }

    .main {
      flex: 1;
      overflow-y: auto;
      background: #f3f4f6;
      padding-bottom: 56px;
    }

    .page {
      display: none;
      padding: 8px 12px 16px;
    }
    .page.active {
      display: block;
    }

    .tab-bar {
      position: sticky;
      bottom: 0;
      z-index: 20;
      display: flex;
      height: 56px;
      border-top: 1px solid #e5e7eb;
      background: #ffffff;
    }
    .tab-item {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      font-size: 11px;
      color: #6b7280;
      cursor: pointer;
      user-select: none;
    }
    .tab-item span.icon {
      font-size: 18px;
      margin-bottom: 2px;
    }
    .tab-item.active {
      color: #ef4444;
      font-weight: 600;
    }

    .card {
      background: #ffffff;
      border-radius: 12px;
      padding: 10px;
      margin: 8px 0;
      box-shadow: 0 0 0 1px rgba(15,23,42,0.03);
    }

    .post-header {
      display: flex;
      align-items: center;
      margin-bottom: 8px;
    }
    .avatar {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background: linear-gradient(135deg, #f97316, #ef4444);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      color: #fff;
      font-size: 16px;
      margin-right: 8px;
      flex-shrink: 0;
    }
    .post-user {
      font-size: 13px;
      font-weight: 600;
    }
    .post-meta {
      font-size: 11px;
      color: #9ca3af;
    }
    .post-title {
      font-size: 15px;
      font-weight: 600;
      margin: 4px 0 6px;
    }
    .post-text {
      font-size: 13px;
      color: #4b5563;
      line-height: 1.5;
      margin-bottom: 8px;
    }
    .post-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 6px;
      margin-bottom: 6px;
    }
    .tag {
      font-size: 11px;
      padding: 2px 8px;
      border-radius: 999px;
      background: #fee2e2;
      color: #b91c1c;
    }
    .post-actions {
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-size: 13px;
      color: #6b7280;
      margin-top: 4px;
    }
    .post-actions-left,
    .post-actions-right {
      display: flex;
      align-items: center;
      gap: 12px;
    }
    .icon-btn {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      cursor: pointer;
    }

    .hint-banner {
      font-size: 11px;
      color: #6b7280;
      background: #fff7ed;
      border-radius: 10px;
      padding: 8px 10px;
      margin-bottom: 8px;
    }
    .hint-banner span {
      color: #f97316;
      font-weight: 600;
    }

    .search-bar {
      display: flex;
      align-items: center;
      padding: 8px 10px;
      border-radius: 999px;
      background: #f3f4f6;
      font-size: 13px;
      color: #9ca3af;
      margin-bottom: 10px;
    }
    .search-bar input {
      border: none;
      outline: none;
      background: transparent;
      font-size: 13px;
      flex: 1;
      padding-left: 6px;
    }
    .chip-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-bottom: 10px;
    }
    .chip {
      font-size: 11px;
      padding: 4px 10px;
      border-radius: 999px;
      background: #fef2f2;
      color: #b91c1c;
      cursor: pointer;
    }
    .chip.hot {
      background: #fee2e2;
      font-weight: 600;
    }

    .form-group {
      margin-bottom: 10px;
    }
    .form-label {
      font-size: 13px;
      margin-bottom: 4px;
      color: #374151;
      font-weight: 500;
    }
    .form-input,
    .form-textarea {
      width: 100%;
      padding: 8px 10px;
      border-radius: 10px;
      border: 1px solid #d1d5db;
      font-size: 14px;
      font-family: inherit;
      outline: none;
    }
    .form-input:focus,
    .form-textarea:focus {
      border-color: #ef4444;
      box-shadow: 0 0 0 1px rgba(239,68,68,0.15);
    }
    .form-textarea {
      min-height: 80px;
      resize: vertical;
    }

    .upload-box {
      border-radius: 10px;
      border: 1px dashed #d1d5db;
      padding: 10px;
      background: #f9fafb;
      text-align: center;
      font-size: 12px;
      color: #6b7280;
      cursor: pointer;
      position: relative;
    }
    .upload-box input {
      position: absolute;
      inset: 0;
      opacity: 0;
      cursor: pointer;
    }
    .upload-preview-grid {
      margin-top: 8px;
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 4px;
    }
    .upload-preview-grid img {
      width: 100%;
      height: 80px;
      object-fit: cover;
      border-radius: 8px;
    }
    .upload-preview-empty-hint {
      font-size: 11px;
      color: #9ca3af;
      margin-top: 4px;
    }

    .layout-selector {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 4px;
    }
    .layout-option {
      flex: 1 1 calc(50% - 6px);
      min-width: calc(50% - 6px);
      border-radius: 10px;
      border: 1px solid #e5e7eb;
      padding: 6px 8px;
      font-size: 11px;
      display: flex;
      flex-direction: column;
      gap: 2px;
      cursor: pointer;
      background: #f9fafb;
    }
    .layout-option-title {
      font-weight: 600;
      font-size: 11px;
    }
    .layout-option-desc {
      font-size: 10px;
      color: #9ca3af;
    }
    .layout-option.active {
      border-color: #ef4444;
      background: #fef2f2;
      box-shadow: 0 0 0 1px rgba(239,68,68,0.15);
    }

    .btn-primary {
      width: 100%;
      border: none;
      border-radius: 999px;
      padding: 10px 0;
      font-size: 15px;
      font-weight: 600;
      background: linear-gradient(135deg, #f97316, #ef4444);
      color: #ffffff;
      cursor: pointer;
      margin-top: 6px;
    }
    .btn-primary:active {
      opacity: 0.9;
    }
    .helper-text {
      font-size: 11px;
      color: #9ca3af;
      margin-top: 4px;
    }

    .profile-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 8px;
    }
    .profile-avatar {
      width: 52px;
      height: 52px;
      border-radius: 50%;
      background: linear-gradient(135deg, #f97316, #ef4444);
      display: flex;
      align-items: center;
      justify-content: center;
      color: #fff;
      font-size: 26px;
    }
    .profile-name {
      font-size: 16px;
      font-weight: 700;
    }
    .profile-meta {
      font-size: 12px;
      color: #6b7280;
    }
    .profile-stats {
      display: flex;
      gap: 18px;
      font-size: 12px;
      margin-top: 6px;
    }
    .stat-label {
      color: #9ca3af;
    }
    .stat-value {
      font-weight: 600;
      font-size: 13px;
    }
    .section-title {
      font-size: 13px;
      font-weight: 600;
      margin: 10px 0 4px;
    }
    .empty-hint {
      font-size: 12px;
      color: #9ca3af;
      padding: 10px 0;
      text-align: center;
    }

    /* ===== å¤šç¨®æ’ç‰ˆæ¨£å¼ ===== */

    .layout-full-image img {
      width: 100%;
      border-radius: 12px;
      object-fit: cover;
      max-height: 380px;
    }

    .layout-grid3x3 {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 2px;
      border-radius: 12px;
      overflow: hidden;
    }
    .layout-grid3x3 img {
      width: 100%;
      height: 90px;
      object-fit: cover;
    }

    .layout-two-column {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 4px;
      border-radius: 12px;
      overflow: hidden;
    }
    .layout-two-column img {
      width: 100%;
      height: 220px;
      object-fit: cover;
    }

    .layout-overlay {
      position: relative;
      border-radius: 14px;
      overflow: hidden;
    }
    .layout-overlay img {
      width: 100%;
      height: 260px;
      object-fit: cover;
      display: block;
    }
    .layout-overlay-title {
      position: absolute;
      left: 0;
      right: 0;
      bottom: 0;
      padding: 12px 12px 10px;
      background: linear-gradient(to top, rgba(0,0,0,0.68), rgba(0,0,0,0));
      color: #f9fafb;
      font-size: 14px;
      font-weight: 600;
    }

    .layout-gradient-card {
      border-radius: 16px;
      padding: 10px;
      background: radial-gradient(circle at top left, #fed7aa, #fecaca, #fee2e2);
      position: relative;
      overflow: hidden;
    }
    .layout-gradient-card-inner {
      border-radius: 14px;
      background: #ffffffee;
      padding: 10px;
      box-shadow: 0 12px 30px rgba(15,23,42,0.12);
    }
    .layout-gradient-card-inner img {
      border-radius: 12px;
      width: 100%;
      max-height: 260px;
      object-fit: cover;
    }

    .layout-magazine {
      display: grid;
      grid-template-columns: 1.2fr 1fr;
      gap: 10px;
      border-radius: 14px;
      overflow: hidden;
      background: #f9fafb;
      padding: 8px;
    }
    .layout-magazine-left img {
      width: 100%;
      height: 240px;
      object-fit: cover;
      border-radius: 12px;
    }
    .layout-magazine-right {
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      font-size: 11px;
    }
    .layout-magazine-tagpill {
      display: inline-flex;
      align-items: center;
      padding: 3px 8px;
      border-radius: 999px;
      background: #fee2e2;
      color: #b91c1c;
      font-size: 10px;
      margin-right: 4px;
      margin-bottom: 4px;
    }
    .layout-magazine-subtitle {
      font-weight: 600;
      margin-bottom: 4px;
      font-size: 12px;
    }
    .layout-magazine-desc {
      color: #6b7280;
      line-height: 1.4;
    }
    .layout-magazine-footer {
      color: #9ca3af;
      font-size: 10px;
    }

    .layout-diagonal {
      position: relative;
      height: 260px;
      border-radius: 16px;
      overflow: hidden;
      background: #111827;
    }
    .layout-diagonal img.main {
      position: absolute;
      inset: 12% 6% 8% 8%;
      width: auto;
      height: auto;
      max-width: 90%;
      max-height: 80%;
      object-fit: cover;
      border-radius: 16px;
      box-shadow: 0 14px 40px rgba(0,0,0,0.6);
      transform: rotate(-3deg);
    }
    .layout-diagonal img.second {
      position: absolute;
      inset: 8% 8% 18% 26%;
      width: auto;
      height: auto;
      max-width: 70%;
      max-height: 70%;
      object-fit: cover;
      border-radius: 14px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.4);
      transform: rotate(5deg);
      opacity: 0.92;
    }

    .layout-video-cover {
      position: relative;
      border-radius: 16px;
      overflow: hidden;
    }
    .layout-video-cover img {
      width: 100%;
      height: 260px;
      object-fit: cover;
      display: block;
      filter: brightness(0.95);
    }
    .layout-video-play {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 62px;
      height: 62px;
      border-radius: 50%;
      background: rgba(15,23,42,0.7);
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 10px 35px rgba(0,0,0,0.6);
    }
    .layout-video-play::before {
      content: "";
      display: block;
      width: 0;
      height: 0;
      border-top: 10px solid transparent;
      border-bottom: 10px solid transparent;
      border-left: 16px solid #f9fafb;
      margin-left: 4px;
    }

    .layout-notebook {
      position: relative;
      padding: 14px 10px 12px;
      border-radius: 16px;
      background: #fef9c3;
      box-shadow: 0 10px 30px rgba(148, 163, 184, 0.4);
      overflow: hidden;
    }
    .layout-notebook::before {
      content: "";
      position: absolute;
      left: 0;
      right: 0;
      top: 18px;
      height: 1px;
      background-image: linear-gradient(to right, rgba(248,250,252,0.7) 0 50%, transparent 50% 100%);
      background-size: 10px 1px;
    }
    .layout-notebook-tape {
      position: absolute;
      top: 6px;
      left: 18%;
      width: 90px;
      height: 18px;
      background: #fee2e2;
      opacity: 0.85;
      transform: rotate(-4deg);
      border-radius: 4px;
    }
    .layout-notebook-tape:nth-of-type(2) {
      left: auto;
      right: 12%;
      top: auto;
      bottom: 8px;
      width: 70px;
      background: #bfdbfe;
      transform: rotate(3deg);
    }
    .layout-notebook-inner {
      position: relative;
      border-radius: 12px;
      background: #fefce8;
      padding: 8px;
      margin-top: 10px;
    }
    .layout-notebook-inner img {
      width: 100%;
      border-radius: 10px;
      max-height: 240px;
      object-fit: cover;
    }
    .layout-notebook-stickers {
      position: absolute;
      top: -6px;
      right: 8px;
      display: flex;
      flex-direction: column;
      gap: 2px;
      font-size: 14px;
    }
    .layout-notebook-sticker-chip {
      padding: 2px 6px;
      border-radius: 999px;
      background: #fff7ed;
      border: 1px solid rgba(248, 148, 128, 0.45);
      font-size: 10px;
      color: #ea580c;
      display: inline-flex;
      align-items: center;
      gap: 2px;
    }

    .layout-carousel {
      border-radius: 14px;
      background: #0f172a;
      padding: 10px 0 10px;
      position: relative;
      overflow: hidden;
    }
    .layout-carousel-track {
      display: flex;
      gap: 8px;
      padding: 0 10px 4px;
      overflow-x: auto;
      scroll-snap-type: x mandatory;
    }
    .layout-carousel-track::-webkit-scrollbar {
      height: 4px;
    }
    .layout-carousel-track::-webkit-scrollbar-thumb {
      background: rgba(148,163,184,0.7);
      border-radius: 999px;
    }
    .layout-carousel-item {
      min-width: 72%;
      scroll-snap-align: center;
      border-radius: 14px;
      overflow: hidden;
      box-shadow: 0 14px 40px rgba(0,0,0,0.7);
    }
    .layout-carousel-item img {
      width: 100%;
      height: 260px;
      object-fit: cover;
      display: block;
    }
    .layout-carousel-dots {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 4px;
      margin-top: 4px;
    }
    .layout-carousel-dot {
      width: 5px;
      height: 5px;
      border-radius: 999px;
      background: rgba(148,163,184,0.6);
    }
    .layout-carousel-dot.active {
      width: 10px;
      background: #e5e7eb;
    }

    @media (min-width: 768px) {
      body {
        background: radial-gradient(circle at top, #fee2e2, #e5e7eb 45%, #f3f4f6);
      }
      .app-shell {
        margin-top: 16px;
        margin-bottom: 16px;
        border-radius: 20px;
        box-shadow: 0 18px 55px rgba(15,23,42,0.18);
      }
    }
  </style>
</head>
<body>
<div class="app-shell">
  <header class="top-bar">
    <div>
      <div class="top-title">å°å£è¢‹</div>
      <div class="top-sub">XiaoPocket Demo V2</div>
    </div>
    <div class="top-right">å¤šç‰ˆå‹æ’ç‰ˆ Â· å‰ç«¯å±•ç¤º</div>
  </header>

  <main class="main">
    <section id="page-home" class="page active">
      <div class="hint-banner">
        é€™æ˜¯ <span>å°å£è¢‹</span> Demo V2ï¼šæ–°å¢ <span>10 ç¨®åœ–ç‰‡æ’ç‰ˆæ¨£å¼</span>ã€‚æ‰€æœ‰è³‡æ–™åƒ…å­˜åœ¨æœ¬æ©Ÿç€è¦½å™¨ï¼Œä¸æœƒä¸Šå‚³ä¼ºæœå™¨ã€‚
      </div>
      <div id="feed-list"></div>
    </section>

    <section id="page-discover" class="page">
      <div class="search-bar">
        <span style="font-size:16px;">ğŸ”</span>
        <input id="search-input" placeholder="æœå°‹ç­†è¨˜ã€ä¸»é¡Œæˆ–æ¨™ç±¤â€¦" />
      </div>
      <div class="chip-row">
        <div class="chip hot" data-tag="ç¾é£Ÿ"># ç¾é£Ÿæ—¥å¸¸</div>
        <div class="chip" data-tag="æ—…éŠ"># é€±æœ«å°æ—…è¡Œ</div>
        <div class="chip" data-tag="ç©¿æ­"># ä»Šæ—¥ç©¿æ­</div>
        <div class="chip" data-tag="3C"># 3C é–‹ç®±</div>
        <div class="chip" data-tag="ç”Ÿæ´»"># ç”Ÿæ´»ç¢ç‰‡</div>
      </div>
      <div class="section-title">çŒœä½ æƒ³çœ‹</div>
      <div id="discover-list"></div>
    </section>

    <section id="page-post" class="page">
      <div class="card">
        <div class="form-group">
          <div class="form-label">æ¨™é¡Œ</div>
          <input id="post-title" class="form-input" placeholder="ä»Šå¤©çš„å°ç™¼ç¾â€¦" />
        </div>
        <div class="form-group">
          <div class="form-label">å…§å®¹</div>
          <textarea id="post-content" class="form-textarea" placeholder="åˆ†äº«ä½ çš„å¿ƒå¾—ã€æ•…äº‹æˆ–å°ç­†è¨˜â€¦"></textarea>
          <div class="helper-text">æ–‡å­—å°‡ä»¥å¡ç‰‡æ–¹å¼é¡¯ç¤ºåœ¨é¦–é ï¼Œé©åˆçŸ­ç­†è¨˜ã€å¿ƒå¾—èˆ‡æ—¥å¸¸ç´€éŒ„ã€‚</div>
        </div>
        <div class="form-group">
          <div class="form-label">æ¨™ç±¤ï¼ˆä»¥é€—è™Ÿåˆ†éš”ï¼‰</div>
          <input id="post-tags" class="form-input" placeholder="ä¾‹å¦‚ï¼šç¾é£Ÿ, æ—…éŠ, ä»Šæ—¥ç©¿æ­" />
        </div>
        <div class="form-group">
          <div class="form-label">åœ–ç‰‡ï¼ˆå¯å¤šå¼µï¼Œç”¨ä¾†å¥—å„ç¨®æ’ç‰ˆï¼‰</div>
          <label class="upload-box">
            é»æ“Šä¸Šå‚³ 1ï½9 å¼µåœ–ç‰‡
            <input id="post-images" type="file" accept="image/*" multiple />
          </label>
          <div id="upload-preview" class="upload-preview-grid"></div>
          <div id="upload-preview-empty" class="upload-preview-empty-hint">å°šæœªé¸æ“‡åœ–ç‰‡ï¼Œå¯å…ˆé¸ 1 å¼µæ¸¬è©¦ï¼Œä¹Ÿå¯ä»¥ä¸€æ¬¡é¸å¤šå¼µåšä¹å®®æ ¼ã€æ‹¼è²¼æˆ–è¼ªæ’­ã€‚</div>
          <div class="helper-text">åœ–ç‰‡åƒ…æš«å­˜åœ¨æœ¬æ©Ÿè¨˜æ†¶é«”ï¼Œé‡æ–°æ•´ç†é é¢å¾Œ Demo è³‡æ–™æœƒæ¶ˆå¤±ã€‚</div>
        </div>

        <div class="form-group">
          <div class="form-label">æ’ç‰ˆæ¨£å¼ï¼ˆ10 ç¨®ç¾åœ–ç‰ˆå‹ï¼‰</div>
          <div class="layout-selector" id="layout-selector">
            <div class="layout-option active" data-layout="full-image">
              <div class="layout-option-title">1. å¤§åœ–æ»¿ç‰ˆ</div>
              <div class="layout-option-desc">å–®å¼µä¸»åœ–ï¼Œé©åˆæ—…éŠã€ç¾é£Ÿã€å¤§å ´æ™¯ã€‚</div>
            </div>
            <div class="layout-option" data-layout="grid-3x3">
              <div class="layout-option-title">2. ä¹å®®æ ¼</div>
              <div class="layout-option-desc">æœ€å¤š 9 å¼µåœ–ï¼Œå°ç‰©ã€ç”Ÿæ´»ç¢ç‰‡ç¸½æ•´ç†ã€‚</div>
            </div>
            <div class="layout-option" data-layout="two-column">
              <div class="layout-option-title">3. é›™åœ–ä¸¦æ’</div>
              <div class="layout-option-desc">å‰å¾Œå°æ¯”ã€ç©¿æ­ / é¢¨æ™¯äºŒé¸ä¸€ã€‚</div>
            </div>
            <div class="layout-option" data-layout="overlay">
              <div class="layout-option-title">4. åœ–ä¸Šæ–‡å­—</div>
              <div class="layout-option-desc">æ¨™é¡Œå£“åœ¨åœ–ç‰‡ä¸Šï¼Œåƒå°é¢å¡ã€‚</div>
            </div>
            <div class="layout-option" data-layout="gradient-card">
              <div class="layout-option-title">5. æ¼¸å±¤å¡ç‰‡</div>
              <div class="layout-option-desc">æ¼¸å±¤èƒŒæ™¯ï¼‹ä¸»åœ–ï¼Œç”¢å“ / å°ç‰©å¾ˆé©åˆã€‚</div>
            </div>
            <div class="layout-option" data-layout="magazine">
              <div class="layout-option-title">6. é›œèªŒé¢¨</div>
              <div class="layout-option-desc">å·¦åœ–å³æ–‡ï¼Œåƒé›œèªŒå°ˆæ¬„é ã€‚</div>
            </div>
            <div class="layout-option" data-layout="diagonal">
              <div class="layout-option-title">7. äº¤å‰æ‹¼è²¼</div>
              <div class="layout-option-desc">å…©å¼µæ–œæ‹¼ï¼Œè¦–è¦ºå±¤æ¬¡æ„Ÿå¼·ã€‚</div>
            </div>
            <div class="layout-option" data-layout="video-cover">
              <div class="layout-option-title">8. å½±ç‰‡å°é¢é¢¨</div>
              <div class="layout-option-desc">ä¸­å¤®æ’­æ”¾éµæ¨£å¼ï¼Œè¶…åƒ vlog å°é¢ã€‚</div>
            </div>
            <div class="layout-option" data-layout="notebook">
              <div class="layout-option-title">9. æ‰‹å¸³é¢¨ï¼‹è²¼ç´™</div>
              <div class="layout-option-desc">ç´™è† å¸¶ï¼‹è²¼ç´™é¢¨æ ¼ï¼Œæ›´æœ‰æ—¥è¨˜æ„Ÿã€‚</div>
            </div>
            <div class="layout-option" data-layout="carousel">
              <div class="layout-option-title">10. è¼ªæ’­ç›¸ç°¿</div>
              <div class="layout-option-desc">å·¦å³æ»‘çœ‹å¤šå¼µç…§ç‰‡ï¼Œé©åˆæ—…ç¨‹è¨˜éŒ„ã€‚</div>
            </div>
          </div>
          <div class="helper-text">ä¸åŒæ’ç‰ˆéœ€çš„åœ–ç‰‡æ•¸é‡ä¸ä¸€æ¨£ï¼Œè‹¥åœ–ç‰‡ä¸è¶³ï¼Œæœƒè‡ªå‹•ç”¨å¯ç”¨çš„å¼µæ•¸å»æ’ç‰ˆï¼Œä¸æœƒå£ç‰ˆã€‚</div>
        </div>

        <button id="post-submit" class="btn-primary">ç™¼ä½ˆåˆ°å°å£è¢‹</button>
      </div>
    </section>

    <section id="page-notify" class="page">
      <div class="card">
        <div class="section-title">ç³»çµ±æé†’</div>
        <div class="empty-hint">
          ç›®å‰å°šæœªæ¥ä¸Šå¾Œç«¯ï¼Œé€™è£¡æš«æ™‚ä½œç‚ºè¦–è¦ºå±•ç¤ºã€‚<br/>
          æœªä¾†å¯æ”¾å…¥ï¼šæŒ‰è®š / ç•™è¨€ / è¿½è¹¤æé†’ã€å°å£è¢‹æ´»å‹•æ¨æ’­ç­‰ã€‚
        </div>
      </div>
    </section>

    <section id="page-profile" class="page">
      <div class="card">
        <div class="profile-header">
          <div class="profile-avatar">ğŸ‘¤</div>
          <div>
            <div class="profile-name">Demo ä½¿ç”¨è€…</div>
            <div class="profile-meta">æš«æ™‚ä½¿ç”¨å‡è³‡æ–™ Â· å°šæœªæ¥æœƒå“¡ç³»çµ±</div>
            <div class="profile-stats">
              <div>
                <div class="stat-label">æˆ‘çš„ç­†è¨˜</div>
                <div class="stat-value" id="stat-post-count">0</div>
              </div>
              <div>
                <div class="stat-label">æ”¶è—</div>
                <div class="stat-value">0</div>
              </div>
              <div>
                <div class="stat-label">è¿½è¹¤ä¸­</div>
                <div class="stat-value">0</div>
              </div>
            </div>
          </div>
        </div>
        <div class="hint-banner">
          æœªä¾†å¯ä»¥åœ¨é€™è£¡æ¥ï¼šç™»å…¥ / è¨»å†Šã€ç·¨è¼¯å€‹äººè³‡æ–™ã€ç®¡ç†è‰ç¨¿ã€é€šçŸ¥è¨­å®šç­‰ã€‚<br/>
          ç›®å‰åªå±•ç¤ºã€Œæˆ‘çš„ç­†è¨˜ã€åˆ—è¡¨å’Œçµ±è¨ˆæ•¸å­—ã€‚
        </div>
      </div>

      <div class="section-title">æˆ‘çš„ç­†è¨˜</div>
      <div id="my-post-list"></div>
      <div id="my-post-empty" class="empty-hint">å°šæœªç™¼ä½ˆä»»ä½•ç­†è¨˜ï¼Œå…ˆå»ã€Œï¼‹ç™¼ä½ˆã€åˆ†äº«ä¸€å‰‡å§ï¼</div>
    </section>
  </main>

  <nav class="tab-bar">
    <div class="tab-item active" data-target="home">
      <span class="icon">ğŸ </span>
      <span>é¦–é </span>
    </div>
    <div class="tab-item" data-target="discover">
      <span class="icon">ğŸ”</span>
      <span>æ¢ç´¢</span>
    </div>
    <div class="tab-item" data-target="post">
      <span class="icon">â•</span>
      <span>ç™¼ä½ˆ</span>
    </div>
    <div class="tab-item" data-target="notify">
      <span class="icon">ğŸ””</span>
      <span>é€šçŸ¥</span>
    </div>
    <div class="tab-item" data-target="profile">
      <span class="icon">ğŸ‘¤</span>
      <span>æˆ‘çš„</span>
    </div>
  </nav>
</div>

<script>
  const demoPosts = [
    {
      id: "demo-1",
      user: "æµ·é‚Šæ•£æ­¥çš„äºº",
      avatar: "æµ·",
      title: "é€±æœ«ä¸€å€‹äººå»æµ·é‚Šæ•£æ•£å¿ƒ",
      content: "æ²’æœ‰ç‰¹åˆ¥çš„å®‰æ’ï¼Œå°±å¸¶è‘—è€³æ©Ÿã€ç›¸æ©Ÿå’Œä¸€æœ¬æ›¸ï¼Œæ²¿è‘—æµ·é‚Šæ…¢æ…¢èµ°ã€‚ç™¼ç¾å…¶å¯¦æ”¾ç©ºä¹Ÿæ˜¯ä¸€ç¨®å¾ˆé‡è¦çš„è¡Œç¨‹ã€‚",
      tags: ["æ—…éŠ", "ç”Ÿæ´»", "å¿ƒæƒ…"],
      images: [
        "https://images.pexels.com/photos/2404370/pexels-photo-2404370.jpeg?auto=compress&cs=tinysrgb&w=800"
      ],
      layout: "full-image",
      likes: 23,
      comments: 5,
      time: "2 å°æ™‚å‰"
    },
    {
      id: "demo-2",
      user: "ä¸‹ç­æƒ³èººè‘—",
      avatar: "ç­",
      title: "æ‡¶äººä¹Ÿèƒ½åšçš„è¶…ç°¡å–®ä¸€é‹æ–™ç†",
      content: "ä¸‹ç­çœŸçš„ä¸æƒ³é–‹ç«å¤ªä¹…ï¼Œå°±æŠŠè”¬èœã€è‡é¡ã€é›è‚‰å…¨éƒ¨ä¸Ÿé€²é‹è£¡ï¼Œèª¿å‘³å¾Œä¸€èµ·ç…®ã€‚æ´—ç¢—ä¹Ÿåªè¦æ´—ä¸€é‹ï¼Œè¶…çˆ½ã€‚",
      tags: ["ç¾é£Ÿ", "æ‡¶äººæ–™ç†"],
      images: [
        "https://images.pexels.com/photos/5718025/pexels-photo-5718025.jpeg?auto=compress&cs=tinysrgb&w=800",
        "https://images.pexels.com/photos/5718023/pexels-photo-5718023.jpeg?auto=compress&cs=tinysrgb&w=800",
        "https://images.pexels.com/photos/5717994/pexels-photo-5717994.jpeg?auto=compress&cs=tinysrgb&w=800"
      ],
      layout: "grid-3x3",
      likes: 41,
      comments: 12,
      time: "æ˜¨å¤©"
    },
    {
      id: "demo-3",
      user: "è¡—å£ç©¿æ­æ§",
      avatar: "æ­",
      title: "ä»Šå¤©è©¦è‘—æ›äº†ä¸€ç¨®é¡è‰²çš„ç©¿æ­",
      content: "ä¸€ç›´éƒ½å¾ˆå®³æ€•ç©¿äº®è‰²ï¼Œä½†ä»Šå¤©ç¡¬è‘—é ­çš®è²·äº†ä¸€ä»¶äº®æ©˜è‰²å¤–å¥—ã€‚çµæœæ„å¤–çš„å¥½çœ‹ï¼Œèµ°åœ¨è·¯ä¸Šå¿ƒæƒ…éƒ½è®Šå¥½äº†ã€‚",
      tags: ["ç©¿æ­", "ç”Ÿæ´»"],
      images: [
        "https://images.pexels.com/photos/7671166/pexels-photo-7671166.jpeg?auto=compress&cs=tinysrgb&w=800",
        "https://images.pexels.com/photos/7671168/pexels-photo-7671168.jpeg?auto=compress&cs=tinysrgb&w=800"
      ],
      layout: "magazine",
      likes: 67,
      comments: 19,
      time: "3 å¤©å‰"
    }
  ];

  let userPosts = [];
  let allPosts = [...demoPosts];

  const pages = {
    home: document.getElementById("page-home"),
    discover: document.getElementById("page-discover"),
    post: document.getElementById("page-post"),
    notify: document.getElementById("page-notify"),
    profile: document.getElementById("page-profile")
  };

  const tabItems = document.querySelectorAll(".tab-item");
  const feedList = document.getElementById("feed-list");
  const discoverList = document.getElementById("discover-list");
  const myPostList = document.getElementById("my-post-list");
  const myPostEmpty = document.getElementById("my-post-empty");
  const statPostCount = document.getElementById("stat-post-count");

  const postTitleInput = document.getElementById("post-title");
  const postContentInput = document.getElementById("post-content");
  const postTagsInput = document.getElementById("post-tags");
  const postImagesInput = document.getElementById("post-images");
  const uploadPreview = document.getElementById("upload-preview");
  const uploadPreviewEmpty = document.getElementById("upload-preview-empty");
  const postSubmitBtn = document.getElementById("post-submit");
  const layoutSelector = document.getElementById("layout-selector");
  const searchInput = document.getElementById("search-input");

  let selectedImages = [];
  let selectedLayout = "full-image";

  function switchPage(target) {
    Object.values(pages).forEach(p => p.classList.remove("active"));
    tabItems.forEach(t => t.classList.remove("active"));

    const page = pages[target];
    if (page) page.classList.add("active");

    tabItems.forEach(t => {
      if (t.dataset.target === target) t.classList.add("active");
    });

    if (target === "home") {
      renderFeed(allPosts);
    } else if (target === "discover") {
      renderDiscover(allPosts);
    } else if (target === "profile") {
      renderMyPosts();
    }
  }

  tabItems.forEach(tab => {
    tab.addEventListener("click", () => {
      const target = tab.dataset.target;
      switchPage(target);
    });
  });

  function createLayoutContent(post) {
    const images = (post.images && post.images.length ? post.images : (post.image ? [post.image] : []));
    const layout = post.layout || "full-image";
    const img1 = images[0];
    const img2 = images[1];
    const img3 = images[2];

    if (!images.length) {
      return "";
    }

    switch (layout) {
      case "grid-3x3": {
        let itemsHtml = "";
        images.slice(0, 9).forEach(src => {
          itemsHtml += `<div><img src="${src}" loading="lazy" alt="image"/></div>`;
        });
        return `<div class="layout-grid3x3">${itemsHtml}</div>`;
      }
      case "two-column": {
        let colHtml = "";
        images.slice(0, 2).forEach(src => {
          colHtml += `<div><img src="${src}" loading="lazy" alt="image"/></div>`;
        });
        return `<div class="layout-two-column">${colHtml}</div>`;
      }
      case "overlay": {
        return `
          <div class="layout-overlay">
            <img src="${img1}" loading="lazy" alt="image"/>
            <div class="layout-overlay-title">${post.title || ""}</div>
          </div>
        `;
      }
      case "gradient-card": {
        return `
          <div class="layout-gradient-card">
            <div class="layout-gradient-card-inner">
              <img src="${img1}" loading="lazy" alt="image"/>
            </div>
          </div>
        `;
      }
      case "magazine": {
        const tagChips = (post.tags || []).slice(0, 3).map(t => `<span class="layout-magazine-tagpill"># ${t}</span>`).join("");
        return `
          <div class="layout-magazine">
            <div class="layout-magazine-left">
              <img src="${img1}" loading="lazy" alt="image"/>
            </div>
            <div class="layout-magazine-right">
              <div>
                <div class="layout-magazine-subtitle">${post.title || ""}</div>
                <div class="layout-magazine-desc">${(post.content || "").slice(0, 60)}${post.content && post.content.length > 60 ? "â€¦" : ""}</div>
              </div>
              <div>
                <div>${tagChips}</div>
                <div class="layout-magazine-footer">å°å£è¢‹ Â· Magazine Layout</div>
              </div>
            </div>
          </div>
        `;
      }
      case "diagonal": {
        return `
          <div class="layout-diagonal">
            <img src="${img1}" class="main" loading="lazy" alt="image"/>
            ${img2 ? `<img src="${img2}" class="second" loading="lazy" alt="image"/>` : ""}
          </div>
        `;
      }
      case "video-cover": {
        return `
          <div class="layout-video-cover">
            <img src="${img1}" loading="lazy" alt="image"/>
            <div class="layout-video-play"></div>
          </div>
        `;
      }
      case "notebook": {
        const mainTag = (post.tags && post.tags[0]) || "Today";
        const secondTag = (post.tags && post.tags[1]) || "Mood";
        return `
          <div class="layout-notebook">
            <div class="layout-notebook-tape"></div>
            <div class="layout-notebook-tape"></div>
            <div class="layout-notebook-inner">
              <div class="layout-notebook-stickers">
                <div class="layout-notebook-sticker-chip">ğŸ“Œ ${mainTag}</div>
                <div class="layout-notebook-sticker-chip">â­ ${secondTag}</div>
              </div>
              <img src="${img1}" loading="lazy" alt="image"/>
            </div>
          </div>
        `;
      }
      case "carousel": {
        let itemsHtml = "";
        const imgs = images.slice(0, 9);
        imgs.forEach(src => {
          itemsHtml += `
            <div class="layout-carousel-item">
              <img src="${src}" loading="lazy" alt="image"/>
            </div>
          `;
        });
        let dotsHtml = "";
        imgs.forEach((_, idx) => {
          dotsHtml += `<div class="layout-carousel-dot ${idx === 0 ? "active" : ""}"></div>`;
        });
        return `
          <div class="layout-carousel">
            <div class="layout-carousel-track">
              ${itemsHtml}
            </div>
            <div class="layout-carousel-dots">
              ${dotsHtml}
            </div>
          </div>
        `;
      }
      case "full-image":
      default: {
        return `
          <div class="layout-full-image">
            <img src="${img1}" loading="lazy" alt="image"/>
          </div>
        `;
      }
    }
  }

  function createPostCard(post) {
    const card = document.createElement("div");
    card.className = "card";

    const tagsHtml = (post.tags || [])
      .map(tag => `<span class="tag"># ${tag}</span>`)
      .join("");

    const layoutHtml = createLayoutContent(post);

    card.innerHTML = `
      <div class="post-header">
        <div class="avatar">${(post.avatar || "å£").slice(0, 1)}</div>
        <div>
          <div class="post-user">${post.user || "å°å£è¢‹ç”¨æˆ¶"}</div>
          <div class="post-meta">${post.time || "å‰›å‰› Â· ä¾†è‡ª å°å£è¢‹ Demo"}</div>
        </div>
      </div>
      <div class="post-title">${post.title || "æœªå‘½åæ¨™é¡Œ"}</div>
      <div class="post-text">${post.content || ""}</div>
      ${layoutHtml}
      <div class="post-tags">${tagsHtml}</div>
      <div class="post-actions">
        <div class="post-actions-left">
          <div class="icon-btn">â¤ï¸ <span>${post.likes ?? 0}</span></div>
          <div class="icon-btn">ğŸ’¬ <span>${post.comments ?? 0}</span></div>
        </div>
        <div class="post-actions-right">
          <div class="icon-btn">â‹¯</div>
        </div>
      </div>
    `;
    return card;
  }

  function renderFeed(posts) {
    feedList.innerHTML = "";
    if (!posts.length) {
      const empty = document.createElement("div");
      empty.className = "empty-hint";
      empty.innerHTML = "ç›®å‰é‚„æ²’æœ‰å…§å®¹ï¼Œå…ˆå»ã€Œï¼‹ç™¼ä½ˆã€åˆ†äº«ç¬¬ä¸€å‰‡å°å£è¢‹ç­†è¨˜å§ï¼";
      feedList.appendChild(empty);
      return;
    }
    posts.forEach(p => {
      const card = createPostCard(p);
      feedList.appendChild(card);
    });
  }

  function renderDiscover(posts) {
    discoverList.innerHTML = "";
    if (!posts.length) {
      const empty = document.createElement("div");
      empty.className = "empty-hint";
      empty.innerHTML = "æš«æ™‚æ²’æœ‰æ‰¾åˆ°ç›¸é—œå…§å®¹ï¼Œå¯ä»¥è©¦è©¦å…¶ä»–é—œéµå­—æˆ–æ¨™ç±¤ã€‚";
      discoverList.appendChild(empty);
      return;
    }
    posts.forEach(p => {
      const card = createPostCard(p);
      discoverList.appendChild(card);
    });
  }

  function renderMyPosts() {
    myPostList.innerHTML = "";
    if (!userPosts.length) {
      myPostEmpty.style.display = "block";
    } else {
      myPostEmpty.style.display = "none";
      userPosts.slice().reverse().forEach(p => {
        const card = createPostCard(p);
        myPostList.appendChild(card);
      });
    }
    statPostCount.textContent = userPosts.length.toString();
  }

  postImagesInput.addEventListener("change", function (e) {
    const files = Array.from(e.target.files || []);
    selectedImages = [];
    uploadPreview.innerHTML = "";
    if (!files.length) {
      uploadPreviewEmpty.style.display = "block";
      return;
    }
    const limit = 9;
    const sliced = files.slice(0, limit);
    let loadedCount = 0;

    sliced.forEach(file => {
      const reader = new FileReader();
      reader.onload = function (evt) {
        const dataUrl = evt.target.result;
        selectedImages.push(dataUrl);
        const img = document.createElement("img");
        img.src = dataUrl;
        uploadPreview.appendChild(img);
        loadedCount++;
        if (loadedCount > 0) {
          uploadPreviewEmpty.style.display = "none";
        }
      };
      reader.readAsDataURL(file);
    });
  });

  layoutSelector.addEventListener("click", function (e) {
    const option = e.target.closest(".layout-option");
    if (!option) return;
    const layout = option.dataset.layout;
    if (!layout) return;
    selectedLayout = layout;
    document.querySelectorAll(".layout-option").forEach(el => el.classList.remove("active"));
    option.classList.add("active");
  });

  postSubmitBtn.addEventListener("click", function () {
    const title = postTitleInput.value.trim();
    const content = postContentInput.value.trim();
    const rawTags = postTagsInput.value.trim();

    if (!title && !content && !selectedImages.length) {
      alert("è‡³å°‘è¼¸å…¥æ¨™é¡Œæˆ–å…§å®¹ï¼Œæˆ–ä¸Šå‚³ä¸€å¼µåœ–ç‰‡å†ç™¼ä½ˆå–”ã€‚");
      return;
    }

    const tags = rawTags
      ? rawTags.split(",").map(t => t.trim()).filter(Boolean)
      : [];

    const newPost = {
      id: "user-" + Date.now(),
      user: "Demo ä½¿ç”¨è€…",
      avatar: "D",
      title: title || "æœªå‘½åæ¨™é¡Œ",
      content,
      tags,
      images: selectedImages.slice(),
      layout: selectedLayout,
      likes: 0,
      comments: 0,
      time: "å‰›å‰›"
    };

    userPosts.push(newPost);
    allPosts.unshift(newPost);

    postTitleInput.value = "";
    postContentInput.value = "";
    postTagsInput.value = "";
    postImagesInput.value = "";
    selectedImages = [];
    uploadPreview.innerHTML = "";
    uploadPreviewEmpty.style.display = "block";
    selectedLayout = "full-image";
    document.querySelectorAll(".layout-option").forEach(el => {
      el.classList.toggle("active", el.dataset.layout === "full-image");
    });

    alert("å·²ç™¼ä½ˆåˆ°å°å£è¢‹ï¼ˆåƒ…æœ¬æ©Ÿ Demoï¼‰");

    renderFeed(allPosts);
    renderMyPosts();
    switchPage("home");
  });

  function filterPostsByKeyword(keyword) {
    if (!keyword) return allPosts;
    const lower = keyword.toLowerCase();
    return allPosts.filter(p => {
      const text = (p.title + " " + p.content + " " + (p.tags || []).join(" ")).toLowerCase();
      return text.includes(lower);
    });
  }

  searchInput.addEventListener("input", function (e) {
    const keyword = e.target.value.trim();
    const result = filterPostsByKeyword(keyword);
    renderDiscover(result);
  });

  document.querySelectorAll(".chip").forEach(chip => {
    chip.addEventListener("click", () => {
      const tag = chip.dataset.tag;
      searchInput.value = tag;
      const result = filterPostsByKeyword(tag);
      renderDiscover(result);
    });
  });

  renderFeed(allPosts);
  renderDiscover(allPosts);
</script>
</body>
</html>
